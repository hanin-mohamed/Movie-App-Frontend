<h2>Login</h2>
<form #f="ngForm" (ngSubmit)="submit(f)" novalidate>
  <label>Email</label>
  <input type="email" name="email" [(ngModel)]="email" #em="ngModel" required email />
  <div class="err" *ngIf="(em.touched || f.submitted) && em.invalid">
    <span *ngIf="em.errors?.['required']">Email is required</span>
    <span *ngIf="em.errors?.['email']">Enter a valid email</span>
  </div>

  <label>Password</label>
  <input type="password" name="password" [(ngModel)]="password" #pw="ngModel" required minlength="6" />
  <div class="err" *ngIf="(pw.touched || f.submitted) && pw.invalid">
    <span *ngIf="pw.errors?.['required']">Password is required</span>
    <span *ngIf="pw.errors?.['minlength']">At least 6 characters</span>
  </div>

  <button [disabled]="loading || f.invalid">{{ loading ? '...' : 'Login' }}</button>
  <p class="server-error" *ngIf="error">{{ error }}</p>
</form>
